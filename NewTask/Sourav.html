<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body style="background-color: skyblue;">
    <button id="Add">Add Data</button>
    <div style="justify-content: center; align-items: center; margin: 20px;">
        <div style="background-color: #fff; text-align: center; justify-content: center;">
            <table id="studentTable" border="1" class="table table-primary">
                <thead id="header">
                    <tr>
                        <th style="color: #ef0707;background-color: aqua;">Name</th>
                        <th style="color: #ef0707; background-color: aqua;">Age</th>
                        <th style="color: #ef0707; background-color: aqua;">Gender</th>
                        <th style="color: #ef0707; background-color: aqua;">Images</th>
                        <th style="color: #ef0707; background-color: aqua;">Action</th>
                        <th style="color: #ef0707; background-color: aqua;">View</th>
                    </tr>
                </thead>
                <tbody id="data">
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let users = [
            {
                name: 'Ashwini',
                age: 23,
                gender: 'Male',
                img: 'https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            },
            {
                name: 'Rohan',
                age: 43,
                gender: 'Male',
                img: 'https://images.pexels.com/photos/35537/child-children-girl-happy.jpg',
                Address: {
                    city: 'Pinore',
                    State: 'Haryana',
                    Pincode: 134102
                }
            }, {
                name: 'Avantika',
                age: 13,
                gender: 'Female',
                img: `https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg`,
                Address: {
                    city: 'Pinore',
                    State: 'Haryana',
                    Pincode: 134102
                }
            },
        ]

        let thead = document.querySelector('#header')
        let tbody = document.querySelector('#data')
        let addBtn = document.querySelector('#Add')

        const addData = () => {
            tbody.innerHTML = ''
            users.forEach((user, index) => {
                let row = document.createElement('tr');

                let nameCell = document.createElement('td');
                nameCell.innerText = user.name
                row.appendChild(nameCell)

                let ageCell = document.createElement('td');
                ageCell.innerHTML = user.age
                row.appendChild(ageCell);

                let genderCell = document.createElement('td');
                genderCell.innerText = user.gender
                row.appendChild(genderCell);

                let imgCellTd = document.createElement('td');
                let img = document.createElement('img');
                img.src = user.img;
                img.width = 70;
                img.height = 70;
                img.style.borderRadius = '50%';
                imgCellTd.appendChild(img);
                row.appendChild(imgCellTd);

                let deletTh = document.createElement('td');
                let delet = document.createElement('button');
                delet.innerHTML = 'Delete';
                delet.style.borderRadius = '20px';
                delet.style.color = '#fff';
                delet.style.backgroundColor = 'red';

                deletTh.appendChild(delet);
                row.appendChild(deletTh);

                delet.addEventListener('click', function Remove() {
                    Swal.fire({
                        title: "Are you sure?",
                        text: "You won't be able to revert this!",
                        icon: "warning",
                        showCancelButton: true,
                        confirmButtonColor: "#3085d6",
                        cancelButtonColor: "#d33",
                        confirmButtonText: "Yes, delete it!"
                    }).then((result) => {
                        if (result.isConfirmed) {
                            Swal.fire({
                                title: "Deleted!",
                                text: "Your file has been deleted.",
                                icon: "success"
                            }).then(() => {
                                tbody.removeChild(row);
                            });
                        }
                    });
                });

                let viewTh = document.createElement('td');
                let view = document.createElement('button');
                view.innerHTML = 'View';
                view.style.borderRadius = '20px';
                view.style.color = '#fff';
                view.style.backgroundColor = '#406b9f';
                view.setAttribute('class', 'btn btn-primary');
                view.setAttribute("data-bs-toggle", "modal");

                view.addEventListener('click', function () {
                    let modal = new bootstrap.Modal(document.getElementById('exampleModal'));
                    let modalBody = document.querySelector('#exampleModal .modal-body');
                    modalBody.innerHTML = `
                        <p>Name: ${user.name}</p>
                        <p>Age: ${user.age}</p>
                        <p>Gender: ${user.gender}</p>
                        <img src="${user.img}" alt="${user.name}" width="200">
                    `;
                    modal.show();
                });

                viewTh.appendChild(view);
                row.appendChild(viewTh);

                tbody.appendChild(row);
            });
        }

        addBtn.addEventListener('click', addData);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

</body>

</html>